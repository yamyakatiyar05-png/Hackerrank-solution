#include <stdio.h>
#include <string.h>
#include <stdbool.h>

#define MAX 1001

bool isHappy(char *b, int n) {
    for (int i = 0; i < n; i++) {
        if ((i > 0 && b[i] == b[i - 1]) || (i < n - 1 && b[i] == b[i + 1])) {
            continue;
        } else {
            return false;
        }
    }
    return true;
}

char* happyLadybugs(char *b, int n) {
    int freq[26] = {0};
    bool hasEmpty = false;

    for (int i = 0; i < n; i++) {
        if (b[i] == '_') {
            hasEmpty = true;
        } else {
            freq[b[i] - 'A']++;
        }
    }

    // If no empty cell, check current configuration
    if (!hasEmpty) {
        if (isHappy(b, n)) {
            return "YES";
        } else {
            return "NO";
        }
    }

    // If any color has only one ladybug, it's impossible
    for (int i = 0; i < 26; i++) {
        if (freq[i] == 1) {
            return "NO";
        }
    }

    return "YES";
}

int main() {
    int g;
    scanf("%d", &g);

    while (g--) {
        int n;
        char b[MAX];
        scanf("%d", &n);
        scanf("%s", b);

        printf("%s\n", happyLadybugs(b, n));
    }

    return 0;
}
